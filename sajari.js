module.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return{text:e,weight:t||1}}function o(e,t,n){return[e,{metric:{field:t,type:n}}]}function u(e,t){return[e,{count:{field:t}}]}function a(e,t){return{name:e,filter:t}}function s(e,t){return[e,{bucket:{buckets:t}}]}function c(e){return e instanceof Array?{repeated:{values:e.map(String)}}:null===e?value={"null":!0}:{single:String(e)}}function l(e){switch(e){case"=":return"EQUAL_TO";case"!=":return"NOT_EQUAL_TO";case">":return"GREATER_THAN";case">=":return"GREATER_THAN_OR_EQUAL_TO";case"<":return"LESS_THAN";case"<=":return"LESS_THAN_OR_EQUAL_TO";case"~":return"CONTAINS";case"!~":return"DOES_NOT_CONTAIN";case"^":return"HAS_SUFFIX";case"$":return"HAS_PREFIX";default:throw"invalid operator: "+e}}function f(e,t,n){return{field:{field:e,value:c(n),operator:l(t)}}}function d(e,t,n,r,i,o){return{geo:{field_lat:e,field_lng:t,lat:n,lng:r,radius:i,region:o}}}function _(e,t){return{combinator:{filters:e,operator:t}}}function p(e){return _(e,"ALL")}function h(e){return _(e,"ANY")}function v(e){return _(e,"ONE")}function g(e){return _(e,"NONE")}function E(e,t){return{field:{field:e,value:t}}}function k(e,t){return{score:{threshold:e,min_count:t}}}function I(e,t){return{filter:{filter:e,value:t}}}function y(e,t){return{additive:{field_boost:e,value:t}}}function O(e,t){return{point:e,value:t}}function T(e,t){return{interval:{field:e,points:t}}}function m(e,t,n,r,i){return{distance:{min:e,max:t,ref:n,field:r,value:i}}}function A(e,t){return{element:{field:e,elts:t}}}function S(e,t){return{text:{field:e,text:t}}}function C(e){return{field:e,order:"-"===e[0]?"DESC":"ASC"}}function N(e){return{identifier:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Query=t.GEO_FIELD_BOOST_REGION_OUTSIDE=t.GEO_FIELD_BOOST_REGION_INSIDE=t.METRIC_TYPE_SUM=t.METRIC_TYPE_AVG=t.METRIC_TYPE_MIN=t.METRIC_TYPE_MAX=t.Api=void 0;var R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.body=i,t.metricAggregate=o,t.countAggregate=u,t.bucket=a,t.bucketAggregate=s,t.fieldFilter=f,t.geoFilter=d,t.allFilters=p,t.anyFilters=h,t.oneOfFilters=v,t.noneOfFilters=g,t.fieldInstanceBoost=E,t.scoreInstanceBoost=k,t.filterFieldBoost=I,t.additiveFieldBoost=y,t.pointValue=O,t.intervalFieldBoost=T,t.distanceFieldBoost=m,t.elementFieldBoost=A,t.textFieldBoost=S,t.sort=C,t.transform=N;var M=n(1),b=(t.Api=function(){function e(t,n,i){r(this,e),this.p=t,this.c=n,this.a=i||"https://apid.sajari.com:9200/search/"}return R(e,[{key:"search",value:function(e,t){return fetch(this.a,{method:"POST",body:JSON.stringify({searchRequest:{searchRequest:e.q,tracking:{type:e.generate_tokens,field:e.token_key_field,sequence:e.s++,query_id:e.i,data:e.data}},project:this.p,collection:this.c})}).then(function(e){e.ok?e.json().then(function(e){for(var n=e.searchResponse.results||[],r=0;r<n.length;r++){for(var i in n[r].values)n[r].values[i]=void 0!==n[r].values[i].single?n[r].values[i].single:n[r].values[i].repeated.values;e.tokens&&(n[r].tokens=e.tokens[r])}t(null,e)}):e.text().then(function(e){return t(e,null)})})["catch"](function(e){return t("Error during fetch: "+e.message,null)})}}]),e}(),t.METRIC_TYPE_MAX="MAX",t.METRIC_TYPE_MIN="MIN",t.METRIC_TYPE_AVG="AVG",t.METRIC_TYPE_SUM="SUM",t.GEO_FIELD_BOOST_REGION_INSIDE="INSIDE",t.GEO_FIELD_BOOST_REGION_OUTSIDE="OUTSIDE",function(){function e(){r(this,e),this.resetID(),this.q={page:1,results_per_page:10},this.d={};var t=(0,M.getGAID)();t&&this.data("gaID",t)}return R(e,[{key:"resetID",value:function(){this.i="",this.s=0;for(var e=0;e<16;e++)this.i+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()))}},{key:"resultsPerPage",value:function(e){this.q.results_per_page=e}},{key:"page",value:function(e){this.q.page=e}},{key:"body",value:function(e){this.q.body=e}},{key:"fields",value:function(e){this.q.fields=e}},{key:"filter",value:function(e){this.q.filter=e}},{key:"fieldBoosts",value:function(e){this.q.field_boosts=e}},{key:"instanceBoosts",value:function(e){this.q.instance_boosts=e}},{key:"aggregates",value:function(e){for(var t={},n=0;n<e.length;n++)t[e[n][0]]=e[n][1];this.q.aggregates=t}},{key:"sort",value:function(e){this.q.sort=e}},{key:"transforms",value:function(e){this.q.transforms=e}},{key:"posNegTracking",value:function(e){this.generate_tokens="POS_NEG",this.token_key_field=e}},{key:"clickTracking",value:function(e){this.generate_tokens="CLICK",this.token_key_field=e}},{key:"tracking",value:function(e,t){this.data[e]=t}}]),e}());t.Query=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){var e="",t=u["default"].get("_ga");if(void 0!==t){var n=t.split(".");n.length>2&&(e=n[2])}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.getGAID=i;var o=n(2),u=r(o)},function(e,t,n){var r,i;!function(o){var u=!1;if(r=o,i="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==i&&(e.exports=i)),u=!0,e.exports=o(),u=!0,!u){var a=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=a,s}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(n){function r(t,i,o){var u;if("undefined"!=typeof document){if(arguments.length>1){if(o=e({path:"/"},r.defaults,o),"number"==typeof o.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*o.expires),o.expires=a}try{u=JSON.stringify(i),/^[\{\[]/.test(u)&&(i=u)}catch(s){}return i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",i,o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}t||(u={});for(var c=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,f=0;f<c.length;f++){var d=c[f].split("="),_=d.slice(1).join("=");'"'===_.charAt(0)&&(_=_.slice(1,-1));try{var p=d[0].replace(l,decodeURIComponent);if(_=n.read?n.read(_,p):n(_,p)||_.replace(l,decodeURIComponent),this.json)try{_=JSON.parse(_)}catch(s){}if(t===p){u=_;break}t||(u[p]=_)}catch(s){}}return u}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}return t(function(){})})}]);