module.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){return{text:e,weight:t||1}}function i(e,t,n){return[e,{metric:{field:t,type:n}}]}function o(e,t){return[e,{count:{field:t}}]}function a(e,t){return{name:e,filter:t}}function u(e,t){return[e,{bucket:{buckets:t}}]}function s(e,t,n){return{field:{field:e,value:p(String(t)),operator:n}}}function f(e,t){return{combinator:{filters:e,operator:t}}}function c(e,t){return{field:{field:e,value:t}}}function l(e){return{score:{threshold:e}}}function _(e,t){return{filter:{filter:e,value:t}}}function d(e,t){return{add:{field_boost:e,value:t}}}function E(e,t,n,r,i,o,a){return{geo:{field_lat:e,field_lng:t,lat:n,lng:r,radius:i,value:o,region:a}}}function T(e,t){return{point:e,value:t}}function O(e,t){return{interval:{field:e,points:t}}}function h(e,t,n,r,i){return{distance:{min:e,max:t,ref:n,field:r,value:i}}}function v(e,t){return{element:{field:e,elts:t}}}function g(e,t){return{text:{field:e,text:t}}}function A(e,t){return{field:e,order:t}}function I(e){return{identifier:e}}function N(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}function p(e){var t="",n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,u=void 0,s=void 0,f=0;for(e=N(e);f<e.length;)n=e.charCodeAt(f++),r=e.charCodeAt(f++),i=e.charCodeAt(f++),o=n>>2,a=(3&n)<<4|r>>4,u=(15&r)<<2|i>>6,s=63&i,isNaN(r)?u=s=64:isNaN(i)&&(s=64),t=t+R.charAt(o)+R.charAt(a)+R.charAt(u)+R.charAt(s);return t}Object.defineProperty(t,"__esModule",{value:!0});var S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.body=r,t.metricAggregate=i,t.countAggregate=o,t.bucket=a,t.bucketAggregate=u,t.fieldFilter=s,t.combinatorFilter=f,t.fieldInstanceBoost=c,t.scoreInstanceBoost=l,t.filterFieldBoost=_,t.additiveFieldBoost=d,t.geoMetaBoost=E,t.pointValue=T,t.intervalFieldBoost=O,t.distanceFieldBoost=h,t.elementFieldBoost=v,t.textFieldBoost=g,t.sort=A,t.transform=I;var C=(t.Api=function(){function e(t,r,i){n(this,e),this.p=t,this.c=r,this.a=i||"https://apid.sajari.com:9200/search-v10/"}return S(e,[{key:"search",value:function(e,t){var n=new XMLHttpRequest;return n.open("POST",this.a,!0),n.setRequestHeader("Accept","application/json"),n.onreadystatechange=function(){4===n.readyState&&(200===n.status?t(null,JSON.parse(n.responseText)):t(n.responseText,null))},n.send(JSON.stringify({request:e.q,project:this.p,collection:this.c,sequence:e.s++,id:e.i})),n}}]),e}(),t.METRIC_TYPE_MAX="MAX",t.METRIC_TYPE_MIN="MIN",t.METRIC_TYPE_AVG="AVG",t.METRIC_TYPE_SUM="SUM",t.FILTER_OP_EQ="EQUAL_TO",t.FILTER_OP_NOT_EQ="DOES_NOT_EQUAL",t.FILTER_OP_GT="GREATER_THAN",t.FILTER_OP_GT_EQ="GREATER_THAN_OR_EQUAL_TO",t.FILTER_OP_LT="LESS_THAN",t.FILTER_OP_LT_EQ="LESS_THAN_OR_EQUAL_TO",t.FILTER_OP_CONTAINS="CONTAINS",t.FILTER_OP_NOT_CONTAIN="DOES_NOT_CONTAIN",t.FILTER_OP_SUFFIX="HAS_SUFFIX",t.FILTER_OP_PREFIX="HAS_PREFX",t.COMB_FILTER_OP_ALL="ALL",t.COMB_FILTER_OP_ANY="ANY",t.COMB_FILTER_OP_ONE="ONE",t.COMB_FILTER_OP_NONE="NONE",t.GEO_META_BOOST_REGION_INSIDE="INSIDE",t.GEO_META_BOOST_REGION_OUTSIDE="OUTSIDE",t.SORT_ASCENDING="ASC",t.SORT_DESCENDING="DESC",function(){function e(){n(this,e),this.resetID(),this.q={page:1,max_results:10}}return S(e,[{key:"resetID",value:function(){this.i="",this.s=0;for(var e=0;e<16;e++)this.i+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()))}},{key:"resultsPerPage",value:function(e){this.q.results_per_page=e}},{key:"page",value:function(e){this.q.page=e}},{key:"body",value:function(e){this.q.body=e}},{key:"fields",value:function(e){this.q.fields=e}},{key:"filter",value:function(e){this.q.filter=e}},{key:"fieldBoosts",value:function(e){this.q.field_boosts=e}},{key:"instanceBoosts",value:function(e){this.q.instance_boosts=e}},{key:"aggregates",value:function(e){for(var t={},n=0;n<e.length;n++)t[e[n][0]]=e[n][1];this.q.aggregates=t}},{key:"sort",value:function(e){this.q.sort=e}},{key:"transforms",value:function(e){this.q.transforms=e}}]),e}());t.Query=C;var R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}]);