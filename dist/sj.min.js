!function t(e,r,n){function i(s,a){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=r[s]={exports:{}};e[s][0].call(h.exports,function(t){var r=e[s][1][t];return i(r?r:t)},h,h.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e){function r(t){return t?n(t):void 0}function n(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks["$"+t];if(r){r=r.slice(0);for(var n=0,i=r.length;i>n;++n)r[n].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],2:[function(t,e){!function(r,n){"use strict";"object"==typeof e&&e.exports&&"function"==typeof t?e.exports=n():"function"==typeof define&&"object"==typeof define.amd?define(n):r.log=n()}(this,function(){"use strict";function t(t){return typeof console===a?!1:void 0!==console[t]?e(console,t):void 0!==console.log?e(console,"log"):s}function e(t,e){var r=t[e];if("function"==typeof r.bind)return r.bind(t);try{return Function.prototype.bind.call(r,t)}catch(n){return function(){return Function.prototype.apply.apply(r,[t,arguments])}}}function r(t,e,r){return function(){typeof console!==a&&(n.call(this,e,r),this[t].apply(this,arguments))}}function n(t,e){for(var r=0;r<u.length;r++){var n=u[r];this[n]=t>r?s:this.methodFactory(n,t,e)}}function i(e){return t(e)||r.apply(this,arguments)}function o(t,e,r){function o(t){var e=(u[t]||"silent").toUpperCase();try{return window.localStorage[p]=e,void 0}catch(r){}try{window.document.cookie=encodeURIComponent(p)+"="+e+";"}catch(r){}}function s(){var t;try{t=window.localStorage[p]}catch(e){}if(typeof t===a)try{var r=window.document.cookie,n=r.indexOf(encodeURIComponent(p)+"=");n&&(t=/^([^;]+)/.exec(r.slice(n))[1])}catch(e){}return void 0===h.levels[t]&&(t=void 0),t}var c,h=this,p="loglevel";t&&(p+=":"+t),h.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},h.methodFactory=r||i,h.getLevel=function(){return c},h.setLevel=function(e,r){if("string"==typeof e&&void 0!==h.levels[e.toUpperCase()]&&(e=h.levels[e.toUpperCase()]),!("number"==typeof e&&e>=0&&e<=h.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;return c=e,r!==!1&&o(e),n.call(h,e,t),typeof console===a&&e<h.levels.SILENT?"No console available for logging":void 0},h.setDefaultLevel=function(t){s()||h.setLevel(t,!1)},h.enableAll=function(t){h.setLevel(h.levels.TRACE,t)},h.disableAll=function(t){h.setLevel(h.levels.SILENT,t)};var l=s();null==l&&(l=null==e?"WARN":e),h.setLevel(l,!1)}var s=function(){},a="undefined",u=["trace","debug","info","warn","error"],c=new o,h={};c.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=h[t];return e||(e=h[t]=new o(t,c.getLevel(),c.methodFactory)),e};var p=typeof window!==a?window.log:void 0;return c.noConflict=function(){return typeof window!==a&&window.log===c&&(window.log=p),c},c})},{}],3:[function(t,e){e.exports=function(t,e,r){for(var n=0,i=t.length,o=3==arguments.length?r:t[n++];i>n;)o=e.call(null,o,t[n],++n,t);return o}},{}],4:[function(t,e){function r(){}function n(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function i(t){return t===Object(t)}function o(t){if(!i(t))return t;var e=[];for(var r in t)null!=t[r]&&s(e,r,t[r]);return e.join("&")}function s(t,e,r){return Array.isArray(r)?r.forEach(function(r){s(t,e,r)}):(t.push(encodeURIComponent(e)+"="+encodeURIComponent(r)),void 0)}function a(t){for(var e,r,n={},i=t.split("&"),o=0,s=i.length;s>o;++o)r=i[o],e=r.split("="),n[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return n}function u(t){var e,r,n,i,o=t.split(/\r?\n/),s={};o.pop();for(var a=0,u=o.length;u>a;++a)r=o[a],e=r.indexOf(":"),n=r.slice(0,e).toLowerCase(),i=w(r.slice(e+1)),s[n]=i;return s}function c(t){return/[\/+]json\b/.test(t)}function h(t){return t.split(/ *; */).shift()}function p(t){return g(t.split(/ *; */),function(t,e){var r=e.split(/ *= */),n=r.shift(),i=r.shift();return n&&i&&(t[n]=i),t},{})}function l(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=u(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function f(t,e){var r=this;m.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new l(r)}catch(n){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=n,t.rawResponse=r.xhr&&r.xhr.responseText?r.xhr.responseText:null,r.callback(t)}if(r.emit("response",e),t)return r.callback(t,e);if(e.status>=200&&e.status<300)return r.callback(t,e);var i=new Error(e.statusText||"Unsuccessful HTTP response");i.original=t,i.response=e,i.status=e.status,r.callback(i,e)})}function d(t,e){return"function"==typeof e?new f("GET",t).end(e):1==arguments.length?new f("GET",t):new f(t,e)}function v(t,e){var r=d("DELETE",t);return e&&r.end(e),r}var y,m=t("emitter"),g=t("reduce");y="undefined"!=typeof window?window:"undefined"!=typeof self?self:this,d.getXHR=function(){if(!(!y.XMLHttpRequest||y.location&&"file:"==y.location.protocol&&y.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var w="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};d.serializeObject=o,d.parseString=a,d.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},d.serialize={"application/x-www-form-urlencoded":o,"application/json":JSON.stringify},d.parse={"application/x-www-form-urlencoded":a,"application/json":JSON.parse},l.prototype.get=function(t){return this.header[t.toLowerCase()]},l.prototype.setHeaderProperties=function(){var t=this.header["content-type"]||"";this.type=h(t);var e=p(t);for(var r in e)this[r]=e[r]},l.prototype.parseBody=function(t){var e=d.parse[this.type];return e&&t&&(t.length||t instanceof Object)?e(t):null},l.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},l.prototype.toError=function(){var t=this.req,e=t.method,r=t.url,n="cannot "+e+" "+r+" ("+this.status+")",i=new Error(n);return i.status=this.status,i.method=e,i.url=r,i},d.Response=l,m(f.prototype),f.prototype.use=function(t){return t(this),this},f.prototype.timeout=function(t){return this._timeout=t,this},f.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},f.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},f.prototype.set=function(t,e){if(i(t)){for(var r in t)this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},f.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},f.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},f.prototype.type=function(t){return this.set("Content-Type",d.types[t]||t),this},f.prototype.parse=function(t){return this._parser=t,this},f.prototype.accept=function(t){return this.set("Accept",d.types[t]||t),this},f.prototype.auth=function(t,e){var r=btoa(t+":"+e);return this.set("Authorization","Basic "+r),this},f.prototype.query=function(t){return"string"!=typeof t&&(t=o(t)),t&&this._query.push(t),this},f.prototype.field=function(t,e){return this._formData||(this._formData=new y.FormData),this._formData.append(t,e),this},f.prototype.attach=function(t,e,r){return this._formData||(this._formData=new y.FormData),this._formData.append(t,e,r||e.name),this},f.prototype.send=function(t){var e=i(t),r=this.getHeader("Content-Type");if(e&&i(this._data))for(var o in t)this._data[o]=t[o];else"string"==typeof t?(r||this.type("form"),r=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==r?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||n(t)?this:(r||this.type("json"),this)},f.prototype.callback=function(t,e){var r=this._callback;this.clearTimeout(),r(t,e)},f.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},f.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},f.prototype.withCredentials=function(){return this._withCredentials=!0,this},f.prototype.end=function(t){var e=this,i=this.xhr=d.getXHR(),o=this._query.join("&"),s=this._timeout,a=this._formData||this._data;this._callback=t||r,i.onreadystatechange=function(){if(4==i.readyState){var t;try{t=i.status}catch(r){t=0}if(0==t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var u=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),t.direction="download",e.emit("progress",t)};this.hasListeners("progress")&&(i.onprogress=u);try{i.upload&&this.hasListeners("progress")&&(i.upload.onprogress=u)}catch(h){}if(s&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},s)),o&&(o=d.serializeObject(o),this.url+=~this.url.indexOf("?")?"&"+o:"?"+o),i.open(this.method,this.url,!0),this._withCredentials&&(i.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof a&&!n(a)){var p=this.getHeader("Content-Type"),l=this._parser||d.serialize[p?p.split(";")[0]:""];!l&&c(p)&&(l=d.serialize["application/json"]),l&&(a=l(a))}for(var f in this.header)null!=this.header[f]&&i.setRequestHeader(f,this.header[f]);return this.emit("request",this),i.send("undefined"!=typeof a?a:null),this},f.prototype.then=function(t,e){return this.end(function(r,n){r?e(r):t(n)})},d.Request=f,d.get=function(t,e,r){var n=d("GET",t);return"function"==typeof e&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n},d.head=function(t,e,r){var n=d("HEAD",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},d.del=v,d["delete"]=v,d.patch=function(t,e,r){var n=d("PATCH",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},d.post=function(t,e,r){var n=d("POST",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},d.put=function(t,e,r){var n=d("PUT",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},e.exports=d},{emitter:1,reduce:3}],5:[function(t,e){function r(t,e,r){var n="Usage: API(company, collection, opts)";if(!t)return a.error("Please provide a company ID. "+n),void 0;if(!e)return a.error("Please provide a collection ID. "+n),void 0;this.company=t,this.collection=e,void 0===r&&(r={});for(var i in r)this[i]=r[i];void 0===this.jsonp&&(this.jsonp=!1),this.se=1,this.hosts={api:"https://www.sajari.com/api/",index:"https://re.sajari.com"},a.info("API init done, %j",this)}function n(t){return t instanceof i?(t.sequence(),t=t.encode()):"string"==typeof t&&-1===t.indexOf("=")?{q:t}:t}var i=t("./query"),o=t("./utils/url"),s=t("superagent"),a=t("loglevel"),u=1;r.prototype={search:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("search",n,t)},popular:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("popular",n,t)},related:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("related",n,t)},recent:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("recent",n,t)},best:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("best",n,t)},query:function(t){return new i(t)},resetSequence:function(){this.se=1},pixel:function(t,e){t=this.mergeArgs(n(t),{company:this.company,collection:this.collection});var r=new Image;void 0!==e&&(r.src=o.augmentUri(this.hosts.index+e,t))},mergeArgs:function(t,e){"string"==typeof t&&(t=o.decodeUriArgs(t+"")),"string"==typeof e&&(e=o.decodeUriArgs(e+""));for(var r in t)e[r]=t[r];return e},fingerprint:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("fingerprint",n,t)},fingerprintReset:function(t,e,r){var n={method:"POST",success:e,failure:r};"string"!=typeof i&&a.error("Fingerprint should be a string");var i={fingerprint:t};return this.send("fingerprint/reset",n,i)},fingerprintWeight:function(t,e,r,n,i,o){var s={method:"POST",success:i,failure:o};"string"!=typeof u&&a.error("Fingerprint should be a string");var u={fingerprint:t};return this.send("fingerprint/weight/"+e+"/"+r+"/"+n,s,u)},add:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("add",n,data)},getById:function(t,e,r){"string"!=typeof t&&a.error("docId should be a string. If using a unique meta key, use the get(data) function instead.");var n={method:"POST",success:e,failure:r};return this.send("get/"+t,n,null)},get:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("get",n,t)},put:function(t,e,r,n){"string"!=typeof t&&a.error("docId should be a string.");var i={method:"POST",success:r,failure:n};return this.send("put/"+t,i,e)},patchById:function(t,e,r,n){"string"!=typeof t&&a.error("docId should be a string. If using a unique meta key, use the patch(data) function instead.");var i={method:"POST",success:r,failure:n};return this.send("patch/"+t,i,null)},patch:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("patch",n,t)},removeById:function(t,e,r){"string"!=typeof t&&a.error("docId should be a string. If using a unique meta key, use the remove(data) function instead.");var n={method:"POST",success:e,failure:r};return this.send("remove/"+t,n,null)},remove:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("remove",n,t)},replaceById:function(t,e,r,n){"string"!=typeof t&&a.error("docId should be a string. If using a unique meta key, use the patch(data) function instead.");var i={method:"POST",success:r,failure:n};return this.send("replace/"+t,i,null)},replace:function(t,e,r){var n={method:"POST",success:e,failure:r};return this.send("replace",n,t)},send:function(t,e,r){r=this.mergeArgs(n(r),{company:this.company,collection:this.collection}),r.hasOwnProperty("q.se")||"search"!=t||(r["q.se"]=this.se,this.se++),t=this.hosts.api+t,this.jsonp&&(t=o.augmentUri(t,r));var i;switch(e.method){case"POST":i=s.post(t);break;case"GET":i=s.get(t);break;case"PATCH":i=s.patch(t);break;case"DELETE":i=s.del(t);break;case"PUT":i=s.put(t);break;default:return e.failure()}return this.basicauth&&i.auth(this.basicauth.user,this.basicauth.pass),this.jsonp?(this.jsonpSend(t,r,e.success,e.failure),void 0):(i.send(r),i.end(function(t,r){t?e.failure(t):e.success(r.body)}),void 0)},jsonpSend:function(t,e,r,n){var i=o.augmentUri(t,e),s="_jsonp_"+u++,a=document.createElement("script");window["__SJ"+s]=function(t){r(t);try{delete window["__SJ"+s]}catch(e){window["__SJ"+s]=void 0}a.parentNode.removeChild(a)},a.onerror=function(){n();try{delete window["__SJ"+s]}catch(t){window["__SJ"+s]=void 0}a.parentNode.removeChild(a)},a.src=o.augmentUri(i,{jsoncallback:"__SJ"+s}),document.getElementsByTagName("head")[0].appendChild(a)}},e.exports=r},{"./query":6,"./utils/url":8,loglevel:2,superagent:4}],6:[function(t,e){function r(t){"string"==typeof t&&(t={q:t}),void 0===t&&(t={}),this.options=t,void 0===this.se&&(this.se=0),void 0===this.options.attrs&&(this.options.attrs={}),void 0===this.id&&(this.id=u(16))}function n(t){switch(t.op){case">":case"<":case"<=":case">=":case"^":case"$":case"!=":case"~":break;case"starts-with":t.op="^";break;case"ends-with":t.op="$";break;case"contains":t.op="~";break;default:t.op=""}if("string"!=typeof t.key)throw"Invalid Sajari filter key: ("+typeof t.key+") "+t.key;return""===t.op?t.key+","+s(t.value):t.op+t.key+","+s(t.value)}function i(t){if("string"!=typeof t.key)throw"Invalid Sajari scale key: ("+typeof t.key+") "+t.key;return void 0!==t.center&&(t.centre=t.center),t.key+","+a(t.centre)+","+a(t.radius)+","+a(t.start)+","+a(t.finish)}function o(t){return Math.round((t.valueOf()+(new Date).getTimezoneOffset())/1e3)}function s(t){if("[object Date]"===Object.prototype.toString.call(t))return o(t);if("string"!=typeof t&&"number"!=typeof t)throw"Invalid Sajari query value: ("+typeof t+") "+t;return""+t}function a(t){if("[object Date]"===Object.prototype.toString.call(t))return o(t);if("number"!=typeof t)throw"Invalid Sajari query numeric value: ("+typeof t+") "+t;return t}function u(t){for(var e="",r="abcdefghijklmnopqrstuvwxyz0123456789",n=0;t>n;n++)e+=r.charAt(Math.floor(Math.random()*r.length));return e}var c=t("./utils/isArray"),h=t("./utils/url");r.prototype={encode:function(){for(var t={"q.id":this.id,"q.se":this.se},e=["q","url","facet.limit","facet.metric.field","facet.metric.start","facet.metric.end","facet.metric.gap","facet.date.start","facet.date.end","facet.date.gap","page"],r=0;r<e.length;r++)void 0!==this.options[e[r]]&&(t[e[r]]=this.options[e[r]]);if(void 0!==this.options.cols&&(t.cols=this.options.cols.join(",")),void 0!==this.options.filters){var o=[];for(r=0;r<this.options.filters.length;r++)o.push(n(this.options.filters[r]));o.length>0&&(t.filters=o.join("|"))}if(void 0!==this.options.scales){var s=[];for(r=0;r<this.options.scales.length;r++)s.push(i(this.options.scales[r]));s.length>0&&(t.scales=s.join("|"))}var a=["set","meta","delta","append"];for(var u in a){var h=a[u];if(void 0!==this.options[h])for(r=0;r<this.options[h].length;r++){var p=this.options[h][r].value;c(p)?p=p.join(";"):"object"==typeof p&&(p=JSON.stringify(p)),t[h+"["+this.options[h][r].key+"]"]=p}}var l=this.options["facet.fields"];if(void 0!==l&&(t["facet.fields"]=c(l)?l.join(","):l),void 0!==this.options.attrs)for(var f in this.options.attrs)t[f]=this.options.attrs[f];return t},setQueryId:function(t){return this.id=t,this},sequence:function(t){return void 0!==t?this.se=t:this.se++,this},cols:function(t){return this.options.cols=t,this},url:function(t){return this.options.url=t,this},page:function(t){return this.options.page=t,this},facetfields:function(t,e){return this.options["facet.fields"]=t,this.options["facet.limit"]=e,this},metricfacet:function(t,e,r,n){return this.options["facet.metric.field"]=t,this.options["facet.metric.start"]=e,this.options["facet.metric.end"]=r,this.options["facet.metric.gap"]=n,this},datefacet:function(t,e,r){return this.options["facet.date.start"]=t,this.options["facet.date.end"]=e,this.options["facet.date.gap"]=r,this},filter:function(t,e,r){return void 0===this.options.filters&&(this.options.filters=[]),this.options.filters.push({key:t,op:e,value:r}),this},scale:function(t,e,r,n,i){return void 0===this.options.scales&&(this.options.scales=[]),this.options.scales.push({key:t,centre:e,radius:r,start:n,finish:i}),this},meta:function(t,e){return void 0===this.options.meta&&(this.options.meta=[]),this.options.meta.push({key:t,value:e}),this},append:function(t,e){return void 0===this.options.append&&(this.options.append=[]),this.options.append.push({key:t,value:e}),this},delta:function(t,e){return void 0===this.options.delta&&(this.options.delta=[]),this.options.delta.push({key:t,value:e}),this},set:function(t,e){return void 0===this.options.set&&(this.options.set=[]),this.options.set.push({key:t,value:e}),this},decoded:function(t){return this.attr("decoded",t)},maxresults:function(t){return this.attr("maxresults",t)},fingerprint:function(t){return this.attr("fingerprint",t)},attr:function(t,e){return void 0!==t&&""!==t&&void 0!==e&&(this.options.attrs[t]=e),this},attrs:function(t){"string"==typeof t&&(t=h.decodeUriArgs(t));for(var e in t)void 0!==e&&""!==e&&void 0!==t[e]&&(this.options.attrs[e]=t[e]);return this}},e.exports=r},{"./utils/isArray":7,"./utils/url":8}],7:[function(t,e){function r(t){return"[object Array]"===Object.prototype.toString.call(t)}e.exports=r},{}],8:[function(t,e){var r={decodeUriArgs:function(t){var e={},r=t.split("&");for(var n in r)if(r.hasOwnProperty(n)){var i=r[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e},encodeUriArgs:function(t){var e=[];for(var r in t)e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.join("&")},mergeQueryStr:function(t){for(var e="string"==typeof t?this.decodeUriArgs(t):t,r=1;r<arguments.length;r++)if(void 0!==arguments[r]){var n="string"==typeof arguments[r]?this.decodeUriArgs(arguments[r]):arguments[r];for(var i in n)e[i]=n[i]}return this.encodeUriArgs(e)},augmentUri:function(t,e){var r=/^([^\?]+)\?(.+)+$/.exec(t);return r?r[1]+"?"+this.mergeQueryStr(e,r[2]):t+"?"+this.encodeUriArgs(e)},getURLParameter:function(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}};e.exports=r},{}]},{},[5]);